// Funkce pro kontrolu rozměrů a převod na Base64
    function processImage(file) {
        return new Promise((resolve, reject) => {
            const img = new Image();
            img.src = URL.createObjectURL(file);
            
            img.onload = () => {
                // KONTROLA ROZMĚRŮ
                if (img.width === 550 && img.height === 100) {
                    const reader = new FileReader();
                    reader.readAsDataURL(file);
                    reader.onload = () => resolve(reader.result);
                } else {
                    reject(`Chyba: Obrázek má ${img.width}x${img.height}px. Musí mít přesně 550x100px!`);
                }
            };
            img.onerror = () => reject("Nepodařilo se načíst obrázek.");
        });
    }

    async function handleCreateServer() {
        const n = document.getElementById('add-name').value;
        const fileInput = document.getElementById('add-file');
        let imgData = "";

        if(!n) return notify("Zadejte název!", "error");

        if(fileInput.files[0]) {
            try {
                imgData = await processImage(fileInput.files[0]);
            } catch (err) {
                notify(err, "error");
                fileInput.value = ""; // Reset výběru
                document.getElementById('file-name-display').innerText = "Žádný soubor nevybrán";
                return; // Zastaví vytváření serveru
            }
        }
        // ... zbytek kódu pro uložení
